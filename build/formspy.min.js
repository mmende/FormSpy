// Created by Martin Mende. License MIT
"use strict";var FormSpy=function(){function a(){}return a.observe=function(a,b,c){return void 0===c&&(c="value"),"SELECT"===a.nodeName?this.observeSelect(a,b,c):"INPUT"===a.nodeName&&null!==a.getAttribute("type")&&"checkbox"===a.getAttribute("type").toLowerCase().trim()?this.observeCheckbox(a,b,c):this.observeText(a,b,c)},a.unobserve=function(a){"undefined"!=typeof this.observes[a]&&(this.observes[a].observer.close(),this.observes[a].element.removeEventListener(this.observes[a].eventType,this.observes[a].eventListener,!1),delete this.observes[a])},a.observeText=function(a,b,c){if(void 0===c&&(c="value"),this.observeJsIncluded()){var d=new PathObserver(b,c);d.open(function(b,c){a.value!==b&&(a.value=b)});var e=function(){Path.get(c).getValueFrom(b)!==this.value&&Path.get(c).setValueFrom(b,this.value)};return a.addEventListener("keyup",e,!1),this.registerObserver(d,e,"keyup",a)}},a.observeCheckbox=function(a,b,c){if(void 0===c&&(c="value"),this.observeJsIncluded()){var d=new PathObserver(b,c);d.open(function(b,c){a.checked=b});var e=function(){Path.get(c).getValueFrom(b)!==this.checked&&Path.get(c).setValueFrom(b,this.checked)};return a.addEventListener("change",e,!1),this.registerObserver(d,e,"change",a)}},a.observeSelect=function(a,b,c){if(void 0===c&&(c="value"),this.observeJsIncluded()){var d=new PathObserver(b,c);d.open(function(b,c){if(b){var d=a.querySelector('option[value="'+b+'"]');null===d&&(d=document.createElement("option"),d.value=b,d.innerText=b,a.appendChild(d)),d.selected=!0}});var e=function(){Path.get(c).getValueFrom(b)!==this.value&&Path.get(c).setValueFrom(b,this.value)};return a.addEventListener("change",e,!1),this.registerObserver(d,e,"change",a)}},a.registerObserver=function(a,b,c,d){var e=this.observerIDs++;return this.observes[e]={observer:a,eventListener:b,element:d,eventType:c},e},a.onElementRemoval=function(a,b){if(window.hasOwnProperty("MutationObserver")){var c=new MutationObserver(function(d){d.forEach(function(d){for(var e=0;e<d.removedNodes.length;++e)d.removedNodes[e]===a&&(b(),c.disconnect())})});c.observe(a.parentElement,{childList:!0})}else{var d=function(c){c.target===a&&(b(),a.parentElement.removeEventListener("DOMNodeRemove",d))};a.parentElement.addEventListener("DOMNodeRemoved",d)}},a.observeJsIncluded=function(){var a=window.hasOwnProperty("PathObserver")&&window.hasOwnProperty("Path");return a||console.error("FormSpy requires observe-js. https://github.com/Polymer/observe-js"),a},a.observerIDs=0,a.observes=[],a}();
//# sourceMappingURL=formspy.min.js.map